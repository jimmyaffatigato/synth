!function(n){var e={};function r(_){if(e[_])return e[_].exports;var t=e[_]={i:_,l:!1,exports:{}};return n[_].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=e,r.d=function(n,e,_){r.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:_})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var _=Object.create(null);if(r.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var t in n)r.d(_,t,function(e){return n[e]}.bind(null,t));return _},r.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(e,"a",e),e},r.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r.p="",r(r.s="./src/html.ts")}({"./src/html.ts":
/*!*********************!*\
  !*** ./src/html.ts ***!
  \*********************/
/*! exports provided: leftBox, rightBox, scopeBox, pAT, fAT, fDT, fST, fRT, fAV, fDV, fSV, fRV, fQ, vAT, vDT, vST, vRT, vAV, vDV, vSV, vRV, lfoOnOff, lfoMode, lfoType, lfoSpeed, lfoDepth, modWheel, devices, settings, oscType, pitchAttackType, noise, show */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "leftBox", function() { return leftBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rightBox", function() { return rightBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scopeBox", function() { return scopeBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pAT", function() { return pAT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fAT", function() { return fAT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fDT", function() { return fDT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fST", function() { return fST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fRT", function() { return fRT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fAV", function() { return fAV; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fDV", function() { return fDV; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fSV", function() { return fSV; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fRV", function() { return fRV; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fQ", function() { return fQ; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vAT", function() { return vAT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vDT", function() { return vDT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vST", function() { return vST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vRT", function() { return vRT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vAV", function() { return vAV; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vDV", function() { return vDV; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vSV", function() { return vSV; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vRV", function() { return vRV; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lfoOnOff", function() { return lfoOnOff; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lfoMode", function() { return lfoMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lfoType", function() { return lfoType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lfoSpeed", function() { return lfoSpeed; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lfoDepth", function() { return lfoDepth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modWheel", function() { return modWheel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "devices", function() { return devices; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "settings", function() { return settings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "oscType", function() { return oscType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pitchAttackType", function() { return pitchAttackType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "noise", function() { return noise; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "show", function() { return show; });\n/* harmony import */ var _myLibrary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./myLibrary */ "./src/myLibrary.ts");\n/* harmony import */ var _synth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./synth */ "./src/synth.ts");\n/* harmony import */ var _midi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./midi */ "./src/midi.ts");\n/// <reference lib="dom" />\r\n\r\n\r\n\r\n//HTML Stuff\r\n//Element Definitions\r\nconst leftBox = document.getElementById("leftBox");\r\nconst rightBox = document.getElementById("rightBox");\r\nconst scopeBox = document.getElementById("scopeBox");\r\nconst pAT = document.getElementById("pAT");\r\nconst fAT = document.getElementById("fAT");\r\nconst fDT = document.getElementById("fDT");\r\nconst fST = document.getElementById("fST");\r\nconst fRT = document.getElementById("fRT");\r\nconst fAV = document.getElementById("fAV");\r\nconst fDV = document.getElementById("fDV");\r\nconst fSV = document.getElementById("fSV");\r\nconst fRV = document.getElementById("fRV");\r\nconst fQ = document.getElementById("fQ");\r\nconst vAT = document.getElementById("vAT");\r\nconst vDT = document.getElementById("vDT");\r\nconst vST = document.getElementById("vST");\r\nconst vRT = document.getElementById("vRT");\r\nconst vAV = document.getElementById("vAV");\r\nconst vDV = document.getElementById("vDV");\r\nconst vSV = document.getElementById("vSV");\r\nconst vRV = document.getElementById("vRV");\r\nconst lfoOnOff = document.getElementById("lfoOnOff");\r\nconst lfoMode = document.getElementById("lfoMode");\r\nconst lfoType = document.getElementById("lfoType");\r\nconst lfoSpeed = document.getElementById("lfoSpeed");\r\nconst lfoDepth = document.getElementById("lfoDepth");\r\nconst modWheel = document.getElementById("modWheel");\r\nconst devices = document.getElementById("devices");\r\nconst settings = document.getElementById("settings");\r\nconst oscType = document.getElementById("oscType");\r\nconst pitchAttackType = document.getElementById("pitchAttackType");\r\nconst noise = document.getElementById("settings");\r\n//Update HTML\r\nfunction show() {\r\n    oscType.value = _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].oscType;\r\n    pAT.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].p.a[1]} s`;\r\n    pitchAttackType.value = _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].pitchAttackType;\r\n    fAT.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.a[1]} s`;\r\n    fAV.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.a[0]} Hz`;\r\n    fDT.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.d[1]} s`;\r\n    fDV.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.d[0]} Hz`;\r\n    fST.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.s[1]} s`;\r\n    fSV.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.s[0]} Hz`;\r\n    fRT.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.r[1]} s`;\r\n    fRV.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.r[0]} Hz`;\r\n    fQ.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].fQ}`;\r\n    vAT.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.a[1]} s`;\r\n    vAV.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.a[0]} x`;\r\n    vDT.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.d[1]} s`;\r\n    vDV.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.d[0]} x`;\r\n    vST.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.s[1]} s`;\r\n    vSV.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.s[0]} x`;\r\n    vRT.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.r[1]} s`;\r\n    vRV.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.r[0]} x`;\r\n    lfoOnOff.checked = _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].lfoOnOff;\r\n    lfoType.value = _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].lfoType;\r\n    lfoMode.value = _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].lfoMode;\r\n    lfoSpeed.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].lfoSpeed} Hz`;\r\n    lfoDepth.value = `${_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].lfoDepth} x`;\r\n    settings.value = JSON.stringify(_synth__WEBPACK_IMPORTED_MODULE_1__["pre"]);\r\n}\r\nfunction changeValues() {\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].oscType = oscType.value;\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].pitchAttackType = pitchAttackType.value;\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].p.a[1] = parseFloat(pAT.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.a[1] = parseFloat(fAT.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.a[0] = parseFloat(fAV.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.d[1] = parseFloat(fDT.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.d[0] = parseFloat(fDV.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.s[1] = parseFloat(fST.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.s[0] = parseFloat(fSV.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.r[1] = parseFloat(fRT.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].f.r[0] = parseFloat(fRV.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].fQ = parseInt(fQ.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.a[1] = parseFloat(vAT.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.a[0] = parseFloat(vAV.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.d[1] = parseFloat(vDT.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.d[0] = parseFloat(vDV.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.s[1] = parseFloat(vST.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.s[0] = parseFloat(vSV.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.r[1] = parseFloat(vRT.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].v.r[0] = parseFloat(vRV.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].lfoOnOff = lfoOnOff.checked;\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].lfoMode = lfoMode.value;\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].lfoType = lfoType.value;\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].lfoSpeed = parseFloat(lfoSpeed.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].lfoDepth = parseFloat(lfoDepth.value);\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["pre"].modWheel = modWheel.value;\r\n    show();\r\n}\r\nshow();\r\nchangeValues();\r\ndocument.body.style.backgroundColor = Object(_myLibrary__WEBPACK_IMPORTED_MODULE_0__["randomColor"])();\r\nleftBox.style.backgroundColor = Object(_myLibrary__WEBPACK_IMPORTED_MODULE_0__["randomColor"])();\r\nleftBox.style.height = `${window.innerHeight - (window.innerWidth / 100) * 2}`;\r\nrightBox.style.height = `${window.innerHeight - (window.innerWidth / 100) * 2}`;\r\nrightBox.style.backgroundColor = leftBox.style.backgroundColor;\r\nscopeBox.width = window.innerWidth / 2;\r\nscopeBox.height = window.innerHeight;\r\nconst scopeContext = scopeBox.getContext("2d");\r\n_synth__WEBPACK_IMPORTED_MODULE_1__["scope"].fftSize = 2048;\r\nconst bufferLength = 1024;\r\nconst dataArray = new Uint8Array(bufferLength);\r\n_synth__WEBPACK_IMPORTED_MODULE_1__["scope"].getByteTimeDomainData(dataArray);\r\nfunction draw() {\r\n    _synth__WEBPACK_IMPORTED_MODULE_1__["scope"].getByteTimeDomainData(dataArray);\r\n    scopeContext.fillStyle = document.body.style.backgroundColor;\r\n    scopeContext.fillRect(0, 0, scopeBox.width, scopeBox.height);\r\n    scopeContext.lineWidth = 10;\r\n    scopeContext.strokeStyle = leftBox.style.backgroundColor;\r\n    scopeContext.beginPath();\r\n    const sliceWidth = (scopeBox.width * 1.0) / bufferLength;\r\n    for (let i = 0, x = 0; i < bufferLength; i++, x += sliceWidth) {\r\n        const v = dataArray[i] / 128.0;\r\n        const y = (v * scopeBox.height) / 2;\r\n        if (i === 0) {\r\n            scopeContext.moveTo(x, y);\r\n        }\r\n        else {\r\n            scopeContext.lineTo(x, y);\r\n        }\r\n    }\r\n    scopeContext.lineTo(scopeBox.width, scopeBox.height / 2);\r\n    scopeContext.stroke();\r\n}\r\nconst noteFlags = [];\r\nfor (let k = 0; k < 127; k++) {\r\n    noteFlags.push(true);\r\n}\r\nfunction voiceOn(note, velocity) {\r\n    note += 12 * octave;\r\n    if (noteFlags[note] == true) {\r\n        const newVoice = new _synth__WEBPACK_IMPORTED_MODULE_1__["Voice"](note, velocity);\r\n        _midi__WEBPACK_IMPORTED_MODULE_2__["notesOn"].push(newVoice);\r\n        newVoice.go();\r\n        noteFlags[note] = false;\r\n    }\r\n}\r\nfunction voiceOff(note) {\r\n    note += 12 * octave;\r\n    noteFlags[note] = true;\r\n    for (let notes = 0; notes < _midi__WEBPACK_IMPORTED_MODULE_2__["notesOn"].length; notes++) {\r\n        if (_midi__WEBPACK_IMPORTED_MODULE_2__["notesOn"][notes].note == note) {\r\n            _midi__WEBPACK_IMPORTED_MODULE_2__["notesOn"][notes].bye();\r\n            _midi__WEBPACK_IMPORTED_MODULE_2__["notesOn"].splice(notes, 1);\r\n        }\r\n    }\r\n}\r\nlet octave = 1;\r\nwindow.onkeydown = (event) => {\r\n    keybinds.forEach((keybind) => {\r\n        if (event.code == keybind.key) {\r\n            keybind.onDown();\r\n        }\r\n    });\r\n};\r\nwindow.onkeyup = (event) => {\r\n    keybinds.forEach((keybind) => {\r\n        if (event.code == keybind.key) {\r\n            if (keybind.onUp)\r\n                keybind.onUp();\r\n        }\r\n    });\r\n};\r\nclass Keybind {\r\n    constructor(key, onDown, onUp) {\r\n        this.key = key;\r\n        this.onDown = onDown;\r\n        this.onUp = onUp;\r\n    }\r\n}\r\nconst keybinds = [\r\n    new Keybind("KeyA", () => voiceOn(48, 127), () => voiceOff(48)),\r\n    new Keybind("KeyW", () => voiceOn(49, 127), () => voiceOff(49)),\r\n    new Keybind("KeyS", () => voiceOn(50, 127), () => voiceOff(50)),\r\n    new Keybind("KeyE", () => voiceOn(51, 127), () => voiceOff(51)),\r\n    new Keybind("KeyD", () => voiceOn(52, 127), () => voiceOff(52)),\r\n    new Keybind("KeyF", () => voiceOn(53, 127), () => voiceOff(53)),\r\n    new Keybind("KeyT", () => voiceOn(54, 127), () => voiceOff(54)),\r\n    new Keybind("KeyG", () => voiceOn(55, 127), () => voiceOff(55)),\r\n    new Keybind("KeyY", () => voiceOn(56, 127), () => voiceOff(56)),\r\n    new Keybind("KeyH", () => voiceOn(57, 127), () => voiceOff(57)),\r\n    new Keybind("KeyU", () => voiceOn(58, 127), () => voiceOff(58)),\r\n    new Keybind("KeyJ", () => voiceOn(59, 127), () => voiceOff(59)),\r\n    new Keybind("KeyK", () => voiceOn(60, 127), () => voiceOff(60)),\r\n    new Keybind("KeyQ", () => {\r\n        if (settings.style.visibility == "visible") {\r\n            settings.style.visibility = "hidden";\r\n        }\r\n        else {\r\n            settings.style.visibility = "visible";\r\n        }\r\n    }),\r\n    new Keybind("Space", () => {\r\n        location.reload();\r\n    }),\r\n    new Keybind("Equal", () => {\r\n        octave++;\r\n        for (let notes = 0; notes < _midi__WEBPACK_IMPORTED_MODULE_2__["notesOn"].length; notes++) {\r\n            _midi__WEBPACK_IMPORTED_MODULE_2__["notesOn"][notes].bye();\r\n            _midi__WEBPACK_IMPORTED_MODULE_2__["notesOn"].splice(notes, 1);\r\n        }\r\n    }),\r\n    new Keybind("Minus", () => {\r\n        octave--;\r\n        for (let notes = 0; notes < _midi__WEBPACK_IMPORTED_MODULE_2__["notesOn"].length; notes++) {\r\n            _midi__WEBPACK_IMPORTED_MODULE_2__["notesOn"][notes].bye();\r\n            _midi__WEBPACK_IMPORTED_MODULE_2__["notesOn"].splice(notes, 1);\r\n        }\r\n    }),\r\n    new Keybind("KeyX", () => {\r\n        for (let notes = 0; notes < _midi__WEBPACK_IMPORTED_MODULE_2__["notesOn"].length; notes++) {\r\n            _midi__WEBPACK_IMPORTED_MODULE_2__["notesOn"][notes].bye();\r\n            _midi__WEBPACK_IMPORTED_MODULE_2__["notesOn"].splice(notes, 1);\r\n        }\r\n    }),\r\n];\r\nmain();\r\nfunction main() {\r\n    setTimeout(main, 100);\r\n    draw();\r\n}\r\n\n\n//# sourceURL=webpack:///./src/html.ts?')},"./src/midi.ts":
/*!*********************!*\
  !*** ./src/midi.ts ***!
  \*********************/
/*! exports provided: notesOn */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "notesOn", function() { return notesOn; });\n/* harmony import */ var _html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./html */ "./src/html.ts");\n/* harmony import */ var _synth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./synth */ "./src/synth.ts");\n\r\n\r\nconst notesOn = [];\r\nfunction openMIDI() {\r\n    if (navigator.requestMIDIAccess) {\r\n        navigator\r\n            .requestMIDIAccess({\r\n            sysex: false,\r\n        })\r\n            .then(midiContext);\r\n    }\r\n    function midiContext(MIDIAccess) {\r\n        const midi = MIDIAccess;\r\n        const inputs = [];\r\n        var input;\r\n        if (midi.inputs.size > 0) {\r\n            for (let h = 0; h < 9; h++) {\r\n                if (midi.inputs.get(h) != undefined) {\r\n                    var tex = document.createTextNode(midi.inputs.get(h).name);\r\n                    var opt = document.createElement("OPTION");\r\n                    opt.setAttribute("value", String(h));\r\n                    opt.appendChild(tex);\r\n                    _html__WEBPACK_IMPORTED_MODULE_0__["devices"].appendChild(opt);\r\n                }\r\n            }\r\n            input = midi.inputs.get(_html__WEBPACK_IMPORTED_MODULE_0__["devices"].value);\r\n            input.onmidimessage = onMIDIMessage;\r\n        }\r\n        else {\r\n            var tex = document.createTextNode("No Device");\r\n            var opt = document.createElement("OPTION");\r\n            opt.appendChild(tex);\r\n            _html__WEBPACK_IMPORTED_MODULE_0__["devices"].appendChild(opt);\r\n        }\r\n    }\r\n    function onMIDIMessage(event) {\r\n        const data = event.data;\r\n        switch (data[0]) {\r\n            case 144:\r\n                //Note On\r\n                if (data[2] > 0) {\r\n                    var newVoice = new _synth__WEBPACK_IMPORTED_MODULE_1__["Voice"](data[1], data[2]);\r\n                    notesOn.push(newVoice);\r\n                    newVoice.go();\r\n                }\r\n                //Note Off\r\n                else {\r\n                    for (let notes = 0; notes < notesOn.length; notes++) {\r\n                        if (notesOn[notes].note == data[1]) {\r\n                            notesOn[notes].bye();\r\n                            notesOn[notes].osc.onended = notesOn.splice(notes, 1);\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n            case 176:\r\n                //Mod Wheel\r\n                if (data[1] == 1) {\r\n                    switch (_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].modWheel) {\r\n                        case "pitch":\r\n                            _synth__WEBPACK_IMPORTED_MODULE_1__["syn"].bend = data[2] / 127;\r\n                            for (let notes = 0; notes < notesOn.length; notes++) {\r\n                                notesOn[notes].osc.frequency.setTargetAtTime(notesOn[notes].freq * (_synth__WEBPACK_IMPORTED_MODULE_1__["syn"].bend + 1), _synth__WEBPACK_IMPORTED_MODULE_1__["au"].currentTime, 0);\r\n                            }\r\n                            break;\r\n                        case "speed":\r\n                            _synth__WEBPACK_IMPORTED_MODULE_1__["syn"].speedMult = data[2] / 64;\r\n                            for (let notes = 0; notes < notesOn.length; notes++) {\r\n                                notesOn[notes].lfo.frequency.setTargetAtTime(_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].lfoSpeed * _synth__WEBPACK_IMPORTED_MODULE_1__["syn"].speedMult, _synth__WEBPACK_IMPORTED_MODULE_1__["au"].currentTime, 0);\r\n                            }\r\n                            break;\r\n                            break;\r\n                        case "depth":\r\n                            _synth__WEBPACK_IMPORTED_MODULE_1__["syn"].depthMult = data[2] / 64;\r\n                            for (let notes = 0; notes < notesOn.length; notes++) {\r\n                                notesOn[notes].lfoGain.gain.setTargetAtTime(_synth__WEBPACK_IMPORTED_MODULE_1__["pre"].lfoDepth * _synth__WEBPACK_IMPORTED_MODULE_1__["syn"].depthMult, _synth__WEBPACK_IMPORTED_MODULE_1__["au"].currentTime, 0);\r\n                            }\r\n                            break;\r\n                        case "vol":\r\n                            _synth__WEBPACK_IMPORTED_MODULE_1__["volControl"].gain.value = data[2] / 127;\r\n                        case "fil":\r\n                            break;\r\n                    }\r\n                }\r\n                //Volume Knob\r\n                if (data[1] == 7) {\r\n                    _synth__WEBPACK_IMPORTED_MODULE_1__["volControl"].gain.value = data[2] / 127;\r\n                }\r\n                break;\r\n        }\r\n    }\r\n}\r\nopenMIDI();\r\n\n\n//# sourceURL=webpack:///./src/midi.ts?')},"./src/myLibrary.ts":
/*!**************************!*\
  !*** ./src/myLibrary.ts ***!
  \**************************/
/*! exports provided: noteFrequency, midiToFreq, randomColor, randomInt, randomWave */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "noteFrequency", function() { return noteFrequency; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "midiToFreq", function() { return midiToFreq; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "randomColor", function() { return randomColor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "randomInt", function() { return randomInt; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "randomWave", function() { return randomWave; });\nfunction noteFrequency(hs, fixedNote = 440) {\r\n    const x = Math.pow(2, 1 / 12);\r\n    const freq = fixedNote * Math.pow(x, hs);\r\n    return freq;\r\n}\r\nfunction midiToFreq(midiNote, temp) {\r\n    const halfSteps = midiNote - 57;\r\n    return noteFrequency(halfSteps, temp);\r\n}\r\nfunction randomColor() {\r\n    return "#" + Math.random().toString(16).slice(-6);\r\n}\r\nfunction randomInt(min, max, size) {\r\n    switch (size) {\r\n        case "little":\r\n            return Math.floor(Math.pow(randomInt(min, max) / 10, 2));\r\n        case "big":\r\n            return Math.floor(Math.sqrt(randomInt(min, max)) * 10);\r\n        case undefined:\r\n            min = Math.ceil(min);\r\n            max = Math.floor(max);\r\n            return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    }\r\n}\r\nfunction randomWave() {\r\n    switch (randomInt(0, 3)) {\r\n        case 0:\r\n            return "sine";\r\n        case 1:\r\n            return "sawtooth";\r\n        case 2:\r\n            return "square";\r\n        case 3:\r\n            return "triangle";\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/myLibrary.ts?')},"./src/presets.ts":
/*!************************!*\
  !*** ./src/presets.ts ***!
  \************************/
/*! exports provided: presets */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "presets", function() { return presets; });\n/* harmony import */ var _myLibrary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./myLibrary */ "./src/myLibrary.ts");\n\r\n//Array of preset objects\r\nconst presets = [\r\n    {\r\n        oscType: "square",\r\n        p: { a: [0, 0.05] },\r\n        f: {\r\n            a: [8000, 0.5],\r\n            d: [4000, 0.5],\r\n            s: [2500, 1],\r\n            r: [0, 0.5],\r\n        },\r\n        v: {\r\n            a: [1, 0.25],\r\n            d: [0.75, 0.5],\r\n            s: [0.7, 1],\r\n            r: [0, 0.5],\r\n        },\r\n        fQ: 20,\r\n        lfoOnOff: true,\r\n        lfoSpeed: 0.5,\r\n        lfoDepth: 1,\r\n        lfoType: "square",\r\n    },\r\n    {\r\n        oscType: Object(_myLibrary__WEBPACK_IMPORTED_MODULE_0__["randomWave"])(),\r\n        port: Object(_myLibrary__WEBPACK_IMPORTED_MODULE_0__["randomInt"])(0, 1),\r\n        pitchAttackType: "high",\r\n        p: { a: [0, Math.random() * 0.1] },\r\n        f: {\r\n            a: [Object(_myLibrary__WEBPACK_IMPORTED_MODULE_0__["randomInt"])(0, 10000), Math.random() * 0.25],\r\n            d: [Object(_myLibrary__WEBPACK_IMPORTED_MODULE_0__["randomInt"])(0, 10000), Math.random() * 0.25],\r\n            s: [Object(_myLibrary__WEBPACK_IMPORTED_MODULE_0__["randomInt"])(0, 10000), Math.random()],\r\n            r: [Object(_myLibrary__WEBPACK_IMPORTED_MODULE_0__["randomInt"])(0, 10000), Math.random() * 0.25],\r\n        },\r\n        v: {\r\n            a: [Math.random(), Math.random() * 0.25],\r\n            d: [Math.random(), Math.random() * 0.25],\r\n            s: [Math.random(), Math.random()],\r\n            r: [0, Math.random() * 0.25],\r\n        },\r\n        fQ: Object(_myLibrary__WEBPACK_IMPORTED_MODULE_0__["randomInt"])(1, 25),\r\n        lfoOnOff: Math.random() > 0.5 ? true : false,\r\n        lfoSpeed: Math.random() * 10,\r\n        lfoDepth: Math.random(),\r\n        lfoType: Object(_myLibrary__WEBPACK_IMPORTED_MODULE_0__["randomWave"])(),\r\n        lfoMode: "fil",\r\n        modWheel: "depth",\r\n        bendWheel: "pitch",\r\n        volControl: 1,\r\n        randomize: function () {\r\n            switch (Object(_myLibrary__WEBPACK_IMPORTED_MODULE_0__["randomInt"])(0, 2)) {\r\n                case 0:\r\n                    this.lfoMode = "vol";\r\n                    break;\r\n                case 1:\r\n                    this.lfoMode = "fil";\r\n                    break;\r\n                case 2:\r\n                    this.lfoMode = "pan";\r\n                    break;\r\n            }\r\n            switch (Object(_myLibrary__WEBPACK_IMPORTED_MODULE_0__["randomInt"])(1, 2)) {\r\n                case 0:\r\n                    this.pitchAttackType = "high";\r\n                    break;\r\n                case 1:\r\n                    this.pitchAttackType = "low";\r\n                    break;\r\n                case 2:\r\n                    this.pitchAttackType = "port";\r\n                    break;\r\n            }\r\n        },\r\n    },\r\n];\r\npresets[1].randomize();\r\n\n\n//# sourceURL=webpack:///./src/presets.ts?')},"./src/synth.ts":
/*!**********************!*\
  !*** ./src/synth.ts ***!
  \**********************/
/*! exports provided: au, volControl, scope, pre, syn, Voice */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "au", function() { return au; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "volControl", function() { return volControl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scope", function() { return scope; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pre", function() { return pre; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "syn", function() { return syn; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Voice", function() { return Voice; });\n/* harmony import */ var _presets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./presets */ "./src/presets.ts");\n/* harmony import */ var _myLibrary__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./myLibrary */ "./src/myLibrary.ts");\n/* harmony import */ var _html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./html */ "./src/html.ts");\n\r\n\r\n\r\nconst au = new AudioContext();\r\nconst volControl = new GainNode(au);\r\nvolControl.gain.value = 0.8;\r\nconst scope = new AnalyserNode(au);\r\nvolControl.connect(scope);\r\nscope.connect(au.destination);\r\nlet pre = _presets__WEBPACK_IMPORTED_MODULE_0__["presets"][1];\r\nconst syn = {\r\n    port: 0,\r\n    bend: 0,\r\n    speedMult: 1,\r\n    depthMult: 1,\r\n};\r\nclass Voice {\r\n    constructor(note, vel) {\r\n        this.note = note;\r\n        this.vel = vel / 127;\r\n        this.freq = Object(_myLibrary__WEBPACK_IMPORTED_MODULE_1__["midiToFreq"])(note);\r\n        this.osc = new OscillatorNode(au);\r\n        this.oscGain = new GainNode(au);\r\n        this.osc.type = pre.oscType;\r\n        this.oscGain.gain.value = this.vel;\r\n        this.filEnv = new BiquadFilterNode(au);\r\n        this.filEnv.type = "lowpass";\r\n        this.filEnv.Q.value = pre.fQ;\r\n        this.volEnv = new GainNode(au);\r\n        this.panner = new StereoPannerNode(au);\r\n        const bufferSize = 2 * au.sampleRate, noiseBuffer = au.createBuffer(1, bufferSize, au.sampleRate), output = noiseBuffer.getChannelData(0);\r\n        for (let i = 0; i < bufferSize; i++) {\r\n            output[i] = Math.random();\r\n        }\r\n        //LFO 1\r\n        this.lfo = new OscillatorNode(au);\r\n        this.lfoGain = new GainNode(au);\r\n        this.lfoOnOff = pre.lfoOnOff;\r\n        this.lfo.type = pre.lfoType;\r\n        this.lfo.frequency.value = pre.lfoSpeed * syn.speedMult;\r\n        this.lfoGain.gain.value = pre.lfoDepth * syn.depthMult;\r\n        //Connections\r\n        this.osc.connect(this.oscGain);\r\n        this.oscGain.connect(this.filEnv);\r\n        this.filEnv.connect(this.volEnv);\r\n        this.volEnv.connect(this.panner);\r\n        this.panner.connect(volControl);\r\n        this.lfo.connect(this.lfoGain);\r\n        switch (pre.lfoMode) {\r\n            case "vol":\r\n                this.lfoGain.gain.value = pre.lfoDepth;\r\n                this.lfoGain.connect(this.oscGain.gain);\r\n                break;\r\n            case "fil":\r\n                this.lfoGain.gain.value = pre.f.d[0] * pre.lfoDepth + 100;\r\n                this.lfoGain.connect(this.filEnv.frequency);\r\n                break;\r\n            case "pan":\r\n                this.lfoGain.gain.value = pre.lfoDepth;\r\n                this.lfoGain.connect(this.panner.pan);\r\n                break;\r\n            case "pitch":\r\n                this.lfoGain.gain.value = this.freq * pre.lfoDepth;\r\n                this.lfoGain.connect(this.osc.frequency);\r\n                break;\r\n        }\r\n        this.osc.start();\r\n        if (pre.lfoOnOff == true) {\r\n            this.lfo.start();\r\n        }\r\n    }\r\n    go() {\r\n        switch (pre.pitchAttackType) {\r\n            case "high":\r\n                syn.port = 2400;\r\n                break;\r\n            case "low":\r\n                syn.port = 0;\r\n                break;\r\n            case "port":\r\n                break;\r\n        }\r\n        var bent = this.freq * (syn.bend + 1);\r\n        this.osc.frequency.setTargetAtTime(syn.port, au.currentTime, 0);\r\n        syn.port = this.freq;\r\n        this.osc.frequency.setTargetAtTime(bent, au.currentTime, pre.p.a[1]);\r\n        this.filEnv.frequency.setTargetAtTime(0, au.currentTime, 0);\r\n        this.filEnv.frequency.setTargetAtTime(pre.f.a[0], au.currentTime, pre.f.a[1]);\r\n        this.filEnv.frequency.setTargetAtTime(pre.f.d[0], au.currentTime + pre.f.a[1], pre.f.d[1]);\r\n        this.volEnv.gain.setTargetAtTime(0, au.currentTime, 0);\r\n        this.volEnv.gain.setTargetAtTime(pre.v.a[0], au.currentTime, pre.v.a[1]);\r\n        this.volEnv.gain.setTargetAtTime(pre.v.d[0], au.currentTime + pre.v.a[1], pre.v.d[1]);\r\n    }\r\n    bye() {\r\n        this.filEnv.frequency.setTargetAtTime(pre.f.s[0], au.currentTime, pre.f.s[1]);\r\n        this.filEnv.frequency.setTargetAtTime(pre.f.r[0], au.currentTime + pre.f.s[1], pre.f.r[1]);\r\n        this.volEnv.gain.setTargetAtTime(pre.v.s[0], au.currentTime, pre.v.s[1]);\r\n        this.volEnv.gain.setTargetAtTime(pre.v.r[0], au.currentTime + pre.v.s[1], pre.v.r[1]);\r\n        this.osc.stop(au.currentTime + 4);\r\n    }\r\n}\r\nfunction loadSettings() {\r\n    const newPreset = JSON.parse(_html__WEBPACK_IMPORTED_MODULE_2__["settings"].value);\r\n    pre = newPreset;\r\n    Object(_html__WEBPACK_IMPORTED_MODULE_2__["show"])();\r\n}\r\nvar code = "";\r\nvar url = window.location.href;\r\nfor (let y = 0; y < url.length; y++) {\r\n    if (url[y - 1] == "?") {\r\n        code = url.slice(y);\r\n    }\r\n}\r\nif (code.length > 0) {\r\n    code = decodeURIComponent(code);\r\n    pre = JSON.parse(code);\r\n    Object(_html__WEBPACK_IMPORTED_MODULE_2__["show"])();\r\n}\r\n\n\n//# sourceURL=webpack:///./src/synth.ts?')}});